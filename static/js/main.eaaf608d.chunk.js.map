{"version":3,"sources":["InputContainer.js","Display.js","History.js","ButtonContainer.js","App.js","index.js"],"names":["InputContainer","props","cursorIndex","expression","handleChange","isInputUnfocused","input","updateFocus","style","type","id","value","onChange","onFocus","onBlur","displayInput","unfocusedInput","beforeCursor","slice","afterCursor","displayUnfocusedInput","Display","calculation","isMalformed","result","restorePrevious","resultDisplay","roundedResult","round","toString","className","onClick","resultStr","displayResult","History","state","history","calculationCount","appendCalculation","bind","displayCalculation","findCalculationById","restoreExpression","restoreResult","this","setState","prevState","push","length","shift","prevProps","prevExpression","prevResult","newExpression","newResult","scrollToBottom","calculationId","filter","historyContainer","document","getElementById","scrollTop","scrollHeight","event","target","parentNode","replace","parseInt","altMenuToggled","isMobile","previousCalculations","map","React","Component","DESKTOP_BUTTONS","MOBILE_MENU_BUTTONS","MOBILE_ALT_MENU_BUTTONS","ButtonContainer","sendButtonPress","handleButtonPress","buttons","getButtons","gridClass","getButtonGridClass","getContainerHeight","Object","keys","key","hasOwnProperty","buttonText","displayButtons","DEFAULT_CALCULATION","App","variables","executeExpression","handleFocusedInput","handleUnfocusedInput","setMobile","throwMalformedError","updateCursorIndex","updateExpression","updateResult","updateVariables","addEventListener","mediaQuery","window","matchMedia","removeEventListener","variablesAfter","assign","evaluate","obj1","obj2","obj1Keys","obj2Keys","objKey","isDifferent","error","console","buttonId","toggleMenu","textContent","blur","includes","shouldCaptureKey","matches","oldCalculation","selectionStart","calculationUpdate","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.eaaf608d.chunk.js","sourcesContent":["import \"./InputContainer.scss\";\n\nexport function InputContainer(props){\n    const { \n        cursorIndex, \n        expression, \n        handleChange,\n        isInputUnfocused,\n        updateFocus \n    } = props;\n\n    function displayInput(expression, isInputUnfocused, \n                          handleChange, updateFocus){\n        const style = {};\n\n        if (isInputUnfocused){\n            style[\"opacity\"] = 0;\n        }\n\n        return (\n            <input \n                style={style}\n                type=\"text\" \n                id=\"input\"\n                value={expression} \n                onChange={handleChange} \n                onFocus={updateFocus}\n                onBlur={updateFocus}\n            />\n        );\n    }\n\n    function displayUnfocusedInput(expression, cursorIndex){\n            \n            const beforeCursor = expression.slice(0, cursorIndex);\n            const afterCursor = expression.slice(cursorIndex);\n\n        return (\n            <div id=\"unfocused-input-display\">\n                <pre>\n                    {beforeCursor}\n                    <span id=\"cursor\">|</span>\n                    {afterCursor}\n                </pre>\n            </div>\n        );\n    }\n\n    const input = displayInput(expression, isInputUnfocused, \n                               handleChange, updateFocus);\n    const unfocusedInput = displayUnfocusedInput(expression, cursorIndex);\n\n    return (\n        <div id=\"input-container\">\n            {input}\n            {isInputUnfocused && unfocusedInput}\n        </div>\n    );\n}\n\nexport default InputContainer;","import { round } from \"mathjs\";\nimport './Display.scss';\nimport InputContainer from \"./InputContainer\";\n\nexport function Display(props){\n    const { expression, isMalformed, result } = props.calculation;\n    const { isInputUnfocused, \n        cursorIndex, \n        handleChange, \n        restorePrevious,\n        updateFocus\n    } = props;\n\n    function displayResult(expression, result){\n        const roundedResult = round(result, 4).toString();\n\n        function restoreExpression(){\n            restorePrevious(expression);\n        }\n\n        function restoreResult(){\n            const resultStr = result.toString();\n            restorePrevious(resultStr);\n        }\n\n        return (\n            <div className=\"result-container\">\n                <div className=\"expression\" onClick={restoreExpression}>{expression}</div>\n                <div className=\"equals\">=</div>\n                <div className=\"result\" onClick={restoreResult}>{roundedResult}</div>\n            </div>\n        );\n    }\n\n    const resultDisplay = displayResult(expression, result);\n\n    return (\n        <div id=\"display\">\n            <p id=\"display-title\">Display</p>\n            {result === \"\" && \n                <InputContainer \n                    cursorIndex={cursorIndex}\n                    expression={expression}\n                    isInputUnfocused={isInputUnfocused}\n                    isMalformed={isMalformed}\n                    handleChange={handleChange}\n                    updateFocus={updateFocus}\n                 />\n            }\n            {isMalformed && <pre id=\"malformed-expression\">Malformed expression</pre>}\n            {result !== \"\" && resultDisplay}\n        </div>\n    );\n}\n\nexport default Display;","import React from \"react\";\nimport { round } from \"mathjs\";\nimport \"./History.scss\";\n\nclass History extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      history: [],\n      calculationCount: 0\n    }\n\n    this.appendCalculation = this.appendCalculation.bind(this);\n    this.displayCalculation = this.displayCalculation.bind(this);\n    this.findCalculationById = this.findCalculationById.bind(this);\n    this.restoreExpression = this.restoreExpression.bind(this);\n    this.restoreResult = this.restoreResult.bind(this);\n  }\n\n  appendCalculation(){\n    this.setState((prevState, props) => {\n      const history = prevState.history.slice();\n      const calculationCount = prevState.calculationCount;\n      \n      history.push({\n        id: calculationCount + 1,\n        expression: props.expression,\n        result: props.result\n      });\n\n      if(history.length > 20){\n        history.shift();\n      }\n\n      return {history, calculationCount: calculationCount + 1};\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { \n      expression: prevExpression,\n      result: prevResult } = prevProps;\n    const { \n      expression: newExpression,\n      result: newResult\n     } = this.props;\n\n    if (newResult !== \"\") {\n      if (newResult !== prevResult){\n        this.appendCalculation()\n      } else if (newExpression !== prevExpression){\n        this.appendCalculation()\n      }\n    }\n\n    this.scrollToBottom();\n  }\n\n  displayCalculation({id, expression, result}){\n    const roundedResult = round(result, 4).toString();\n\n    return (\n        <div className=\"result-container\" id={\"calculation\"+id} key={id}>\n            <div className=\"expression\" onClick={this.restoreExpression}>{expression}</div>\n            <div className=\"equals\">=</div>\n            <div className=\"result\" onClick={this.restoreResult}>{roundedResult}</div>\n        </div>\n    );\n  }\n\n  findCalculationById(calculationId){\n    const calculation = this.state.history.filter(({ id }) => calculationId === id);\n    return calculation[0];\n  }\n\n  scrollToBottom(){\n    const historyContainer = document.getElementById(\"history-container\");\n    historyContainer.scrollTop = historyContainer.scrollHeight;\n  }\n\n  restoreExpression(event){\n    let id = event.target.parentNode.id.replace(\"calculation\", \"\");\n    id = parseInt(id);\n    const { expression } = this.findCalculationById(id);\n\n    this.props.restorePrevious(expression);\n  }\n\n  restoreResult(event){\n    let id = event.target.parentNode.id.replace(\"calculation\", \"\");\n    id = parseInt(id);\n    const { result } = this.findCalculationById(id);\n\n    this.props.restorePrevious(result.toString());\n  }\n\n  render() {\n    const {altMenuToggled, isMobile} = this.props;\n    const history = this.state.history;\n    const previousCalculations = history.map((calculation) => this.displayCalculation(calculation));\n\n    const style = {};\n\n    if(!isMobile){\n      style[\"order\"] = \"-1\";\n      style[\"height\"] = \"20%\";\n    } else if(altMenuToggled) {\n      style[\"order\"] = \"2\";\n      style[\"height\"] = \"40%\";\n    } else {\n      style[\"display\"] = \"none\";\n    }\n\n    return (\n      <div id=\"history-container\" style={style}>\n        {previousCalculations}\n      </div>\n    );\n  }\n}\n\nexport default History;","import \"./ButtonContainer.scss\";\n\nconst DESKTOP_BUTTONS = {\n  \"zero\": \"0\",\n  \"one\": \"1\",\n  \"two\": \"2\",\n  \"three\": \"3\",\n  \"four\": \"4\",\n  \"five\": \"5\",\n  \"six\": \"6\",\n  \"seven\": \"7\",\n  \"eight\": \"8\",\n  \"nine\": \"9\",\n  \"decimal\": \".\",\n  \"add\": \"+\",\n  \"subtract\": \"-\",\n  \"divide\": \"/\",\n  \"multiply\": \"*\",\n  \"back\": \"Back\",\n  \"clear\": \"C\",\n  \"left-parenthesis\": \"(\",\n  \"right-parenthesis\": \")\",\n  \"exponential\": \"^\",\n  \"sqrt\": \"sqrt(\",\n  \"equals\": \"=\",\n  \"evaluate\": \"Evaluate\"\n}\n\nconst MOBILE_MENU_BUTTONS = {\n    \"zero\": \"0\",\n    \"one\": \"1\",\n    \"two\": \"2\",\n    \"three\": \"3\",\n    \"four\": \"4\",\n    \"five\": \"5\",\n    \"six\": \"6\",\n    \"seven\": \"7\",\n    \"eight\": \"8\",\n    \"nine\": \"9\",\n    \"decimal\": \".\",\n    \"add\": \"+\",\n    \"subtract\": \"-\",\n    \"divide\": \"/\",\n    \"multiply\": \"*\",\n    \"clear\": \"C\",\n    \"exponential\": \"^\",\n    \"sqrt\": \"sqrt(\",\n    \"equals\": \"=\",\n    \"evaluate\": \"Evaluate\",\n    \"alt-menu\": \"alt-menu\",\n}\n\nconst MOBILE_ALT_MENU_BUTTONS = {\n  \"evaluate\": \"Evaluate\",\n  \"menu\": \"menu\",\n  \"left-parenthesis\": \"(\",\n  \"right-parenthesis\": \")\"\n}\n\n\nexport function ButtonContainer(props) {\n  const { altMenuToggled, isMobile, sendButtonPress } = props;\n\n  const getButtons = (altMenuToggled, isMobile) => {\n    if(!isMobile){\n      return DESKTOP_BUTTONS;\n    } else if (altMenuToggled) {\n      return MOBILE_ALT_MENU_BUTTONS;\n    } else {\n      return MOBILE_MENU_BUTTONS;\n    }\n  }\n\n  const getButtonGridClass = (altMenuToggled, isMobile) => {\n    if(!isMobile){\n      return 'desktop-grid';\n    } else if (altMenuToggled) {\n      return 'mobile-alt-menu-grid';\n    } else {\n      return 'mobile-menu-grid';\n    }\n  };\n\n  const getContainerHeight = (altMenuToggled, isMobile) => {\n    if(!isMobile){\n      return '60%';\n    } else if (altMenuToggled) {\n      return '40%';\n    } else {\n      return '80%';\n    }\n  };\n\n  const displayButtons = (buttons) => {\n    const buttonKey = Object.keys(buttons);\n\n    return buttonKey.map(key => {\n        if(buttons.hasOwnProperty(key)){\n          const buttonText = buttons[key];\n          const style = {\"gridArea\": key};\n\n          return (\n            <button \n              className=\"calculatorButton\"\n              id={key} \n              key={key} \n              style={style} \n              onClick={handleButtonPress}>\n                {buttonText}\n              </button>\n          );\n        }\n\n        return null;\n      });\n  };\n\n  const handleButtonPress = (event) => {\n      sendButtonPress(event.target.id);\n  };\n\n  const buttons = getButtons(altMenuToggled, isMobile);\n  const style = {};\n  const gridClass = getButtonGridClass(altMenuToggled, isMobile);\n  style[\"height\"] = getContainerHeight(altMenuToggled, isMobile);\n\n  return (\n    <div className={\"button-container \" + gridClass} style={style}>\n      {displayButtons(buttons)}\n    </div>\n  );\n}\n\nexport default ButtonContainer;","import React from \"react\";\nimport { evaluate } from 'mathjs';\nimport './App.scss';\nimport Display from './Display';\nimport History from './History';\nimport ButtonContainer from './ButtonContainer';\n\nconst DEFAULT_CALCULATION = {\n  expression: \"\",\n  isMalformed: false,\n  result: \"\"\n}\n\nconst isDifferent = (obj1, obj2) => {\n  const obj1Keys = Object.keys(obj1);\n  const obj2Keys = Object.keys(obj2);\n\n  if (obj1Keys.length !== obj2Keys.length) {\n    return true;\n  }\n\n  for (let objKey of obj1Keys) {\n    if (obj1[objKey] !== obj2[objKey]) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nconst shouldCaptureKey = (key) => {\n  const ignoreList = [\"Shift\", \"CapsLock\", \"Control\", \"Alt\", \"Tab\", \"F1\",\n  \"F2\", \"F3\", \"F4\", \"F5\", \"F6\", \"F7\", \"F8\", \"F9\", \"F10\",\n  \"F11\", \"F12\", \"Insert\", \"PageDown\", \"PageUp\", \"Pause\", \"ScrollLock\", \"NumLock\", \"Escape\",\n  \"ArrowDown\", \"ArrowUp\"];\n\n  return !ignoreList.includes(key);\n}\n\n\nclass App extends React.Component {\n  constructor(){\n    super();\n    this.state = {\n      altMenuToggled: false,\n      calculation: DEFAULT_CALCULATION,\n      cursorIndex: 0,\n      isInputUnfocused: true,\n      isMobile: false,\n      variables: {},\n    };\n\n    this.executeExpression = this.executeExpression.bind(this);\n    this.handleButtonPress = this.handleButtonPress.bind(this);\n    this.handleFocusedInput = this.handleFocusedInput.bind(this);\n    this.handleUnfocusedInput = this.handleUnfocusedInput.bind(this);\n    this.restorePrevious = this.restorePrevious.bind(this);\n    this.setMobile = this.setMobile.bind(this);\n    this.throwMalformedError = this.throwMalformedError.bind(this);\n    this.updateCursorIndex = this.updateCursorIndex.bind(this);\n    this.updateExpression = this.updateExpression.bind(this);\n    this.updateFocus = this.updateFocus.bind(this);\n    this.updateResult = this.updateResult.bind(this);\n    this.updateVariables = this.updateVariables.bind(this);\n  }\n\n  componentDidMount(){\n    document.addEventListener(\"keydown\", this.handleUnfocusedInput);\n    const mediaQuery = window.matchMedia(\"(max-width: 600px)\");\n    this.setMobile(mediaQuery);\n    mediaQuery.addEventListener(\"change\", this.setMobile);\n  }\n\n  componentWillUnmount(){\n    document.removeEventListener(\"keydown\", this.handleUnfocusedInput);\n  }\n\n  executeExpression(){\n    const { calculation: {expression}, variables } = this.state;\n    let result = \"\";\n    const variablesAfter = Object.assign({}, variables);\n\n    try {\n      result = evaluate(expression, variablesAfter);\n      if (isDifferent(variables, variablesAfter)){\n        this.updateVariables(variablesAfter);\n      }\n      if (result !== \"\") {\n        this.updateResult(result);\n      }\n    }\n    catch (error) {\n      console.error(error);\n      this.throwMalformedError();\n    }\n  }\n\n  handleButtonPress(buttonId){\n    const { calculation: { expression, result }, cursorIndex } = this.state;\n    let buttonText = \"\";\n\n    switch(buttonId){\n      case \"back\":\n        // TODO: Implement reloading the previous calculation\n        break;\n      case \"clear\":\n        // TODO: Implement removing only the most recent number or operator in the else portion\n        if (result !== \"\"){\n          this.updateCursorIndex(0)\n          this.updateExpression(\"\");\n        }\n        break;\n      case \"evaluate\":\n        if (result === \"\"){\n          this.executeExpression();\n        } else {\n          const resultStr = result.toString();\n          this.updateCursorIndex(resultStr.length);\n          this.updateExpression(resultStr);\n        }\n        break;\n      case \"alt-menu\":\n        this.toggleMenu();\n        break;\n      case \"menu\":\n        this.toggleMenu();\n        break;\n      default:\n        buttonText = document.getElementById(buttonId).textContent;\n        this.updateCursorIndex(cursorIndex + buttonText.length)\n        this.updateExpression(expression + buttonText)\n        break;\n    }\n  }\n\n  handleFocusedInput(event){\n    this.updateExpression(event.target.value);\n  }\n\n  handleUnfocusedInput(event){\n    const key = event.key;\n    let { calculation: { result }, isInputUnfocused } = this.state;\n\n    if (key === \"Enter\") {\n      if (result === \"\"){\n          document.getElementById(\"input\").blur();\n          this.executeExpression();\n      } else {\n        const resultStr = result.toString();\n        this.updateCursorIndex(resultStr.length);\n        this.updateExpression(resultStr);\n      }\n    }\n    else if (shouldCaptureKey(key) && isInputUnfocused){\n      let {calculation: {expression}, cursorIndex} = this.state;\n      let newExpression = \"\";\n\n      switch(key){\n        case \"Backspace\":\n          if (result !== \"\"){\n            this.updateCursorIndex(0);\n            this.updateExpression(\"\");\n          }\n          else if (cursorIndex !== 0){\n            newExpression = expression.slice(0, cursorIndex - 1) + expression.slice(cursorIndex);\n            this.updateCursorIndex(cursorIndex - 1);\n            this.updateExpression(newExpression);\n          }\n          break;\n        case \"Delete\":\n          if (cursorIndex !== expression.length){\n            newExpression = expression.slice(0, cursorIndex) + expression.slice(cursorIndex+1);\n            this.updateExpression(newExpression);\n          }\n          break;\n        case \"ArrowLeft\":\n          if (cursorIndex > 0){\n            this.updateCursorIndex(cursorIndex - 1);\n          }\n          this.updateResult(\"\");\n          break;\n        case \"ArrowRight\":\n          if (cursorIndex < expression.length){\n            this.updateCursorIndex(cursorIndex + 1);\n          }\n          this.updateResult(\"\");\n          break;\n        case \"Home\":\n          this.updateCursorIndex(0);\n          break;\n        case \"End\":\n          this.updateCursorIndex(expression.length);\n          break;\n        default:\n          if(result === \"\"){\n            newExpression = expression.slice(0, cursorIndex) + key + expression.slice(cursorIndex)\n            this.updateCursorIndex(cursorIndex + 1);\n            this.updateExpression(newExpression);\n          }\n          else {\n            const numList = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\n            if (numList.includes(key)){\n              this.updateCursorIndex(1);\n              this.updateExpression(key);\n            } else {\n              const resultStr = result.toString();\n              newExpression = resultStr + key;\n              this.updateCursorIndex(newExpression.length);\n              this.updateExpression(newExpression);\n            }\n          }\n          break;\n      }\n    }\n  }\n\n  restorePrevious(expression){\n    this.updateCursorIndex(expression.length);\n    this.updateExpression(expression);\n  }\n\n  setMobile(mediaQuery){\n    if(mediaQuery.matches){\n      this.setState({isMobile: true});\n    } else {\n      this.setState({isMobile: false});\n    }\n  }\n\n  toggleMenu(){\n    this.setState(prevState => ({\n      altMenuToggled: !prevState.altMenuToggled\n    }));\n  }\n\n  throwMalformedError(){\n    this.setState(prevState => {\n      const oldCalculation = prevState.calculation;\n      const calculationUpdate = {\n        isMalformed: true\n      };\n\n      const newCalculation = Object.assign({}, oldCalculation, calculationUpdate);\n\n      return {calculation: newCalculation};\n    });\n  }\n\n  updateCursorIndex(cursorIndex){\n    this.setState({cursorIndex});\n  }\n\n  updateExpression(expression){\n    this.setState({\n      calculation: {\n        expression,\n        isMalformed: false,\n        result: \"\"\n      }\n    });\n  }\n\n  updateFocus(event){\n    this.setState(prevState => ({\n      cursorIndex: event.target.selectionStart,\n      isInputUnfocused: !prevState.isInputUnfocused\n    }));\n  }\n\n  updateResult(result){\n    // called on a successfully executed expression\n    this.setState(prevState => {\n      const oldCalculation = prevState.calculation;\n      const calculationUpdate = {\n        isMalformed: false,\n        result\n      };\n\n      const newCalculation = Object.assign({}, oldCalculation, calculationUpdate);\n\n      return {calculation: newCalculation};\n    });\n  }\n\n  updateVariables(variables){\n    this.setState({variables});\n  }\n  \n\n  render() {\n    const { altMenuToggled, calculation, cursorIndex, isInputUnfocused, isMobile} = this.state;\n    const { expression, result } = calculation;\n\n    // TODO: Implement other components\n    return (\n      <main id=\"calculator\">\n        <Display \n          calculation={calculation}\n          cursorIndex={cursorIndex}\n          isInputUnfocused={isInputUnfocused}\n          handleChange={this.handleFocusedInput}\n          restorePrevious={this.restorePrevious}\n          updateFocus={this.updateFocus}\n          />\n        \n        <History \n          altMenuToggled={altMenuToggled}\n          expression={expression}\n          isMobile={isMobile}\n          restorePrevious={this.restorePrevious}\n          result={result}\n        />\n\n        <ButtonContainer \n          altMenuToggled={altMenuToggled}\n          isMobile={isMobile}\n          sendButtonPress={this.handleButtonPress}\n        />\n          \n      {/* REAL CODE */}\n        {/* When screen size greater than ... */}\n          {/* <History />\n          <Display />\n          <ButtonContainer /> */}\n        {/* When screen size less than ... */}\n          {/* When menuToggled */}\n            {/* <Display />\n            <ButtonContainer /> */}\n          {/* When !menuToggled */}\n            {/* <Display />\n            <History />\n            <ButtonContainer /> */}\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}